你是一个编程专家！尤其擅长Electron应用开发！

电脑是window11系统，IDE是vscode，powershell是7.5的版本，node.js是22.16版本。

渲染图演示 PDF 生成器 功能/UI/交互需求说明

1：产品定位

目标用户：设计师

2：核心价值

2.1：一致宽度，自适应浏览：将任意分辨率图片 等比缩放 到用户设定的统一宽度（常用 1080 px），保持纵横比不变，使手机或 iPad 竖屏滑动浏览体验如刷网页般连贯。

2.2：大批量排序效率：支持 多选拖拽 快速调整顺序，减轻管理数十到上百张渲染图的负担。

生成标题页并导出 PDF，避免重复排版。

2.3：全局信息架构

侧边栏：位于窗口左侧，包含 Logo 及两大入口（图片管理 / 参数设置）。点击入口可切换主工作区内容，当前入口会高亮显示，并在底部状态条中实时展示已导入图片总数与已选数量。

主工作区：占据页面主体区域，随着侧边栏入口不同而呈现不同界面。在「图片管理」页，显示缩略图网格、批量操作按钮及拖拽排序功能；在「参数设置」页，提供输出尺寸、水印、标题页等表单控件。

图片管理功能

3.1 图片导入与缩略图管理

支持通过系统文件选择对话框批量导入图片。

所有图片在页面中以缩略图形式网格展示（约 150–190 px 宽）。

支持框选、Shift 多选和复选框选择。

3.2 图片排序与操作

多选拖拽排序：可以同时选中多张图片拖动调整顺序。（拖拽是个难点，要保证能多选拖拽）交互细节

拖拽未选中项时，系统自动将其作为当前唯一选中项。

拖拽过程中在目标位置显示一定宽度的插入指示虚线。

拖动时会在目标位置显示插入指示线。

批量操作按钮包括：全选 / 清空选择 / 删除选定图片/ 增加图片。

页面底部状态栏实时显示当前图片总数与已选数量。

参数设置功能

4.1 输出尺寸

用户可以指定所有图片输出时的统一宽度，范围为 100–5000 px，默认值为 1080 px。

图片按原始比例等比缩放，高度随之自适应。

4.2 图片水印（PNG 图片）

用户可选择 PNG 文件作为水印图片（支持透明背景）。

可放置在左上 / 右上 / 左下 / 右下四个角落之一。

可设置水平与垂直方向的边距（0–500 px）。

可选择水印缩放比例（25% / 50% / 75% / 100%）横排呈现，方便快速选择

若不上传 PNG 图片，则不应用水印。

4.3 标题页

首先生成一张宽度和前面说的【输出尺寸】一样宽的，高度为500px高的图片作为标题页，字体默认黑色，背景默认白底，宽度与用户之前设定的【输出尺寸】一致，比如用户之前设定1080px，那么标题页也是1080px。

有输入文本的输入框，文本内容居中显示，支持用户输入、换行与字体、字号（大部分情况下是输入中文，要考虑中文的特性）（字体考虑连接本地字库）

这张标题页图片的顺序永远放在最前面。

4.4 参数配置保存

用户可将当前所有设置保存为一个命名配置项。

配置项可在列表中选择并加载，以便快速切换常用样式。

支持删除配置、新建配置或覆盖已有配置。

4.5 导出

用户点击「生成 PDF」按钮后，系统将应用当前参数，等比缩放图片并添加水印与标题页，导出 PDF 文件。

若未选中任何图片将提示错误。

5：其他细节

用户未选图片时尝试导出，弹出 Toast 提示。

视觉规范

整体风格为浅色主题，以高级灰和白色为主色调。

所有卡片风格元素具有圆角和微弱阴影，提升层次感。

鼠标悬浮时提供轻微抬升与阴影增强的交互反馈。

技术栈

Electron

本地是node.js版本22.16

Electron（最新稳定版）

本地存储最近使用参数

编程建议

建议开发过程中同步编写详细的开发日志文档。

日志应记录每一项功能的设计思路、技术方案、关键决策、问题解决过程及与需求的对应关系。

该文档有助于项目回溯、Bug 追踪、团队协作和后期维护。

本文档定义 UI / 交互要点，供设计与开发评审使用。

# PDF生成器 - 渲染图演示工具

一个专为设计师打造的高效PDF生成工具，支持批量图片处理、自定义水印和标题页生成。

## 🎯 核心特性

### 📐 一致宽度，自适应浏览
- 将任意分辨率图片等比缩放到统一宽度（默认1080px）
- 保持原始纵横比，确保图片不变形
- 适合手机或iPad竖屏滑动浏览

### 🔄 高效批量排序
- 支持多选拖拽快速调整图片顺序
- 框选、Shift多选、复选框等多种选择方式
- 批量操作：全选、清空、删除

### 📄 智能PDF生成
- 自动生成标题页
- 支持PNG透明水印
- 可选分隔页功能，在图片间插入白色分隔页
- 一键导出专业PDF文档

## 🚀 快速开始

### 环境要求
- Windows 10/11
- Node.js 22.16+
- 推荐使用VSCode开发

### 安装依赖
```bash
# 克隆项目
git clone <repository-url>
cd tarePDF

# 安装依赖
npm install
```

### 开发模式
```bash
# 启动开发服务器
npm run dev

# 或者分别启动
npm run electron:dev
```

### 构建应用
```bash
# 构建生产版本
npm run build

# 打包Windows安装程序
npm run dist
```

## 📖 使用指南

### 1. 图片管理

#### 导入图片
- 点击「导入图片」按钮选择文件
- 支持拖拽文件到窗口
- 支持常见图片格式（JPG、PNG、GIF、BMP等）

#### 选择图片
- **单击**: 选择单张图片
- **Ctrl+单击**: 多选图片
- **Shift+单击**: 范围选择
- **拖拽框选**: 框选多张图片
- **Ctrl+A**: 全选图片

#### 排序图片
- 选中图片后拖拽到目标位置
- 支持多张图片同时拖拽
- 拖拽时显示插入位置指示线

#### 批量操作
- **全选**: 选择所有图片
- **清空选择**: 取消所有选择
- **删除选定**: 删除选中的图片
- **Delete键**: 快速删除选中图片

### 2. 参数设置

#### 输出尺寸
- 设置图片统一输出宽度（100-5000px）
- 高度自动按比例调整
- 默认1080px适合移动设备浏览
- **快捷预设**: 提供常用尺寸快捷按钮（800、1080、1280、1920、2550、3000px）
- **智能状态**: 预设按钮与当前设置值自动同步，当前选中值高亮显示

#### 水印设置
- **水印类型**: 支持图片水印和文字水印两种类型
- **图片水印**: 选择PNG格式水印文件（支持透明背景），可设置缩放比例（25%、50%、75%、100%）
- **文字水印**: 自定义文字内容、字体大小、字体颜色和字体样式
- **位置设置**: 四个角落位置可选（左上、右上、左下、右下）
- **边距调整**: 水平和垂直边距可调节（0-500px）
- **状态显示**: 图片缩略图下方显示水印状态徽章，直观显示当前启用的水印类型和位置

#### 标题页配置
- 输入标题文本（支持换行）
- 选择字体和字号
- 设置文字颜色和背景色
- 标题页尺寸：宽度同输出尺寸，高度500px

#### 分隔页设置
- **启用开关**: 控制是否在图片间插入分隔页
- **高度调节**: 设置分隔页高度（50-300px）
- **插入位置**: 在每个导入图片后插入（标题页后不插入）
- **分隔页样式**: 纯白色背景，宽度与输出尺寸一致
- **应用场景**: 用于视觉分离不同图片，提升阅读体验

#### 配置管理
- **保存配置**: 将当前设置保存为命名配置
- **加载配置**: 快速切换常用设置
- **删除配置**: 移除不需要的配置
- **导入/导出**: 配置文件备份和分享

### 3. PDF导出

#### 生成PDF
1. 选择要导出的图片
2. 配置输出参数
3. 点击「生成PDF」按钮
4. 选择保存位置
5. 等待生成完成

#### 预览功能
- 点击「预览PDF」查看效果
- 预览模式只显示前5页
- 在浏览器中打开预览

## ⌨️ 快捷键

| 快捷键 | 功能 |
|--------|------|
| Ctrl+I | 导入图片 |
| Ctrl+A | 全选图片 |
| Ctrl+D | 清空选择 |
| Delete | 删除选中图片 |
| Ctrl+E | 导出PDF |
| Ctrl+P | 预览PDF |
| Ctrl+1 | 切换到图片管理 |
| Ctrl+2 | 切换到参数设置 |
| Esc | 取消当前操作 |

## 🏗️ 项目结构

```
tarePDF/
├── package.json              # 项目配置
├── README.md                 # 项目说明
├── DEVELOPMENT_LOG.md        # 开发日志
├── src/
│   ├── main.js              # 主进程入口
│   ├── preload.js           # 预加载脚本
│   └── renderer/            # 渲染进程
│       ├── index.html       # 主界面
│       ├── styles/          # 样式文件
│       │   ├── main.css     # 主样式
│       │   ├── components.css # 组件样式
│       │   └── animations.css # 动画效果
│       └── scripts/         # JavaScript文件
│           ├── utils.js     # 工具函数
│           ├── imageManager.js # 图片管理
│           ├── settingsManager.js # 设置管理
│           ├── pdfGenerator.js # PDF生成
│           └── main.js      # 主渲染脚本
└── dist/                    # 构建输出目录
```

## 🔧 技术栈

- **框架**: Electron (最新稳定版)
- **运行时**: Node.js 22.16
- **PDF生成**: jsPDF
- **图片处理**: Canvas API + Sharp
- **本地存储**: electron-store
- **构建工具**: electron-builder

## 📋 系统要求

### 最低要求
- Windows 10 (64位)
- 4GB RAM
- 500MB 可用磁盘空间

### 推荐配置
- Windows 11 (64位)
- 8GB+ RAM
- SSD硬盘
- 独立显卡（处理大量图片时）

## 🐛 故障排除

### 常见问题

**Q: 应用启动失败**
A: 检查Node.js版本是否为22.16+，重新安装依赖

**Q: 图片导入失败**
A: 确认图片格式支持，检查文件是否损坏

**Q: PDF生成失败**
A: 检查是否选择了图片，确认输出路径有写入权限

**Q: 拖拽排序不工作**
A: 确保图片已选中，尝试刷新应用

**Q: 水印不显示**
A: 检查PNG文件是否有效，确认文件路径正确

### 性能优化

**处理大量图片时**:
- 建议单次处理不超过100张图片
- 关闭其他占用内存的应用
- 使用较小的输出尺寸

**提高生成速度**:
- 降低水印缩放比例
- 简化标题页文本
- 使用SSD硬盘

## 🤝 贡献指南

### 开发环境设置
1. Fork项目仓库
2. 克隆到本地
3. 安装依赖：`npm install`
4. 启动开发模式：`npm run dev`

### 代码规范
- 使用ES6+语法
- 遵循JSDoc注释规范
- 保持代码简洁易读
- 添加适当的错误处理

### 提交规范
- feat: 新功能
- fix: 修复bug
- docs: 文档更新
- style: 代码格式调整
- refactor: 代码重构
- test: 测试相关
- chore: 构建过程或辅助工具变动

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

## 📞 支持与反馈

- **问题报告**: 请在GitHub Issues中提交
- **功能建议**: 欢迎提交Feature Request
- **技术讨论**: 查看Discussions区域

## 🔄 更新日志

### v1.3.0 (2024-12-31)
- ✨ 新增文字水印功能
- 🎯 支持自定义文字内容、字体样式、颜色和大小设置
- 📱 新增水印状态徽章显示，直观显示当前启用的水印类型和位置
- 🔧 优化水印控制按钮逻辑，确保按钮始终可见
- 💡 改进用户体验，简化水印操作流程

### v1.2.0 (2024-12-31)
- ✨ 新增输出尺寸预设按钮功能
- 🎯 提供常用像素值快捷设置（800、1080、1280、1920、2550、3000px）
- 📱 智能状态同步，预设按钮与当前设置值自动关联
- 🔧 优化用户体验，提升操作效率

### v1.1.0 (2024-12-19)
- ✨ 新增分隔页功能
- 🎯 支持在图片间插入白色分隔页
- 📱 可调节分隔页高度（50-300px）
- 🔧 提升PDF阅读体验

### v1.0.0 (2024-01-XX)
- ✨ 初始版本发布
- 🎯 核心功能完整实现
- 📱 响应式界面设计
- 🔧 完善的错误处理

---

**开发团队**: PDF生成器项目组  
**最后更新**: 2024-12-31
